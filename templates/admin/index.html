{% extends 'admin/base.html' %}

{% load i18n unfold %}

{% block breadcrumbs %}{% endblock %}

{% block title %}
    {% trans 'Dashboard' %} | {{ site_title|default:_('Django site admin') }}
{% endblock %}

{% block extrahead %}
    {% if plausible_domain %}
        <script defer data-domain="{{ plausible_domain }}" src="https://plausible.io/js/script.js"></script>
    {% endif %}
{% endblock %}

{% block branding %}
    {% include "unfold/helpers/site_branding.html" %}
{% endblock %}

{% block content %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">

        <!-- Welcome Message -->
        <div class="bg-white shadow rounded-lg p-6 col-span-1 md:col-span-2">
            <h2 class="text-2xl font-bold">ðŸ‘‹ Welcome to Dikaioma Elpidas CMS</h2>
            <p class="text-gray-600 mt-2">Manage your content, users, and media effortlessly.</p>
        </div>

        <!-- Quick Actions -->
        <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-xl font-bold">âš¡ Quick Actions</h2>
            <ul class="mt-3 space-y-2">
                <li><a href="#" class="text-blue-500 hover:underline">âž• Add New Post</a></li>
                <li><a href="#" class="text-blue-500 hover:underline">âž• Add New Team Member</a></li>
                <li><a href="#" class="text-blue-500 hover:underline">âž• Add New Program</a></li>
                <li><a href="#" class="text-blue-500 hover:underline">ðŸ“‚ Manage Content</a></li>
                <li><a href="#" class="text-blue-500 hover:underline">ðŸ‘¥ Manage Users</a></li>
            </ul>
        </div>

        <!-- Recent Content -->
        <div class="bg-white shadow rounded-lg p-6 col-span-1 md:col-span-2">
            <h2 class="text-xl font-bold mb-3">ðŸ“Š Recent Admin Actions</h2>
            <ul class="list-group">
                {% for action in recent_actions %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                            <strong>{{ action.user }}</strong>
                            <span class="text-muted">performed</span>
                            <em>{{ action.get_change_message }}</em>
                        </div>
                        <small class="text-muted">{{ action.action_time|date:"d M Y, H:i" }}</small>
                    </li>
                {% empty %}
                    <li class="list-group-item text-muted">No recent actions.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- System Status -->
        <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-xl font-bold">ðŸ“Š System Status</h2>
            <ul class="mt-3 space-y-2">
                <li>âœ… Total Posts: <strong>{{ total_posts }}</strong></li>
                <li>ðŸ“Œ Drafts Pending Review: <strong>{{ draft_posts }}</strong></li>
                <li>ðŸ‘¥ Registered Users: <strong>{{ total_users }}</strong></li>
            </ul>
        </div>

    </div>
{% endblock %}
